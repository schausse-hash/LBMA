<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Archives Historiques - LBMA 1988-2025</title>
    <link rel="icon" type="image/jpeg" href="logo-lbma.jpg">
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Oswald:wght@400;600;700&family=Work+Sans:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --primary: #1E3A5F;
            --accent: #CC0000;
            --gold: #D4AF37;
            --white: #FDFBF7;
            --cream: #F5F1E8;
            --dark: #1A1A1A;
            --grass: #2D5016;
        }
        body { font-family: 'Work Sans', sans-serif; background: var(--cream); color: var(--dark); }
        
        /* Navigation */
        nav { position: fixed; top: 0; left: 0; right: 0; z-index: 1000; background: var(--white); box-shadow: 0 2px 20px rgba(0,0,0,.1); }
        nav .container { max-width: 1400px; margin: 0 auto; padding: .75rem 2rem; display: flex; justify-content: space-between; align-items: center; }
        .logo { display: flex; align-items: center; gap: .75rem; text-decoration: none; }
        .logo img { height: 55px; }
        nav ul { display: flex; list-style: none; gap: .5rem; }
        nav li { position: relative; }
        nav a { text-decoration: none; color: var(--dark); font-weight: 600; text-transform: uppercase; font-size: .85rem; padding: .5rem 1rem; display: block; transition: .3s; }
        nav a:hover { color: var(--primary); background: var(--cream); }
        .dropdown-content { display: none; position: absolute; top: 100%; left: 0; background: var(--white); min-width: 220px; box-shadow: 0 8px 16px rgba(0,0,0,.1); border: 2px solid var(--dark); z-index: 1001; }
        .dropdown-content a { padding: .75rem 1rem; border-bottom: 1px solid var(--cream); font-size: .8rem; }
        .dropdown:hover .dropdown-content { display: block; }
        .dropdown>a::after { content: ' â–¼'; font-size: .6rem; }

        /* Header */
        .page-header {
            margin-top: 80px;
            background: linear-gradient(135deg, var(--primary) 0%, #2D5A8A 50%, var(--grass) 100%);
            color: var(--white);
            padding: 3rem 2rem;
            text-align: center;
            position: relative;
        }
        .page-header::before {
            content: 'ğŸ†';
            position: absolute;
            font-size: 12rem;
            opacity: .08;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        .page-header h1 {
            font-family: 'Bebas Neue', sans-serif;
            font-size: clamp(2.5rem, 8vw, 4rem);
            letter-spacing: .15em;
            position: relative;
        }
        .page-header p {
            font-family: 'Oswald', sans-serif;
            font-size: 1.3rem;
            position: relative;
            margin-top: .5rem;
            opacity: .9;
        }

        .container { max-width: 1400px; margin: 0 auto; padding: 2rem; }

        /* Main Tabs */
        .main-tabs {
            display: flex;
            gap: 0;
            margin-bottom: 0;
            flex-wrap: wrap;
        }
        .main-tab {
            padding: 1rem 2rem;
            background: var(--cream);
            border: 3px solid var(--dark);
            border-bottom: none;
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.2rem;
            letter-spacing: .05em;
            cursor: pointer;
            transition: .3s;
            margin-right: -3px;
            display: flex;
            align-items: center;
            gap: .5rem;
        }
        .main-tab:hover { background: #e8e4db; }
        .main-tab.active { background: var(--primary); color: white; }
        .main-tab.active.frappeurs { background: var(--accent); }
        .main-tab.active.lanceurs { background: var(--grass); }

        .tab-content {
            display: none;
            background: var(--white);
            border: 3px solid var(--dark);
            padding: 2rem;
        }
        .tab-content.active { display: block; }

        /* Sub Tabs */
        .sub-tabs {
            display: flex;
            gap: .5rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }
        .sub-tab {
            padding: .75rem 1.5rem;
            background: var(--cream);
            border: 2px solid var(--dark);
            font-family: 'Oswald', sans-serif;
            font-size: .95rem;
            cursor: pointer;
            transition: .3s;
        }
        .sub-tab:hover { background: #e8e4db; }
        .sub-tab.active { background: var(--gold); color: var(--dark); font-weight: 600; }

        /* Category Select */
        .category-select {
            margin-bottom: 1.5rem;
        }
        .category-select label {
            font-family: 'Oswald', sans-serif;
            font-size: 1rem;
            color: var(--primary);
            margin-right: 1rem;
        }
        .category-select select {
            padding: .75rem 1.5rem;
            border: 2px solid var(--dark);
            font-size: 1rem;
            background: var(--cream);
            min-width: 300px;
            cursor: pointer;
        }

        /* Stats Table */
        .stats-table {
            width: 100%;
            border-collapse: collapse;
            font-size: .95rem;
        }
        .stats-table th {
            background: var(--primary);
            color: white;
            padding: .75rem;
            text-align: center;
            font-family: 'Oswald', sans-serif;
            text-transform: uppercase;
            font-size: .85rem;
            position: sticky;
            top: 0;
        }
        .stats-table.frappeurs th { background: var(--accent); }
        .stats-table.lanceurs th { background: var(--grass); }
        .stats-table td {
            padding: .6rem .75rem;
            text-align: center;
            border-bottom: 1px solid var(--cream);
        }
        .stats-table tr:hover { background: rgba(212,175,55,.15); }
        .stats-table .rank { font-family: 'Bebas Neue', sans-serif; font-size: 1.2rem; color: var(--primary); }
        .stats-table .player-name { text-align: left; font-weight: 600; }
        .stats-table .value { font-family: 'Oswald', sans-serif; font-size: 1.1rem; color: var(--dark); }
        .stats-table tr:nth-child(1) .rank { color: var(--gold); }
        .stats-table tr:nth-child(2) .rank { color: #C0C0C0; }
        .stats-table tr:nth-child(3) .rank { color: #CD7F32; }

        /* Records Cards */
        .records-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 1.5rem;
        }
        .record-card {
            background: var(--cream);
            border: 3px solid var(--dark);
            overflow: hidden;
            transition: transform .3s;
        }
        .record-card:hover { transform: translateY(-5px); }
        .record-card-header {
            background: var(--primary);
            color: white;
            padding: 1rem;
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.2rem;
            letter-spacing: .05em;
        }
        .record-card-header.frappeurs { background: var(--accent); }
        .record-card-header.lanceurs { background: var(--grass); }
        .record-card-body {
            padding: 1rem;
        }
        .record-item {
            padding: .75rem 0;
            border-bottom: 1px dashed #ccc;
        }
        .record-item:last-child { border-bottom: none; }
        .record-type {
            font-family: 'Oswald', sans-serif;
            font-size: .85rem;
            color: var(--primary);
            text-transform: uppercase;
            margin-bottom: .25rem;
        }
        .record-value {
            font-weight: 600;
        }
        .record-holder {
            color: var(--gold);
            font-weight: 700;
        }

        /* Legend */
        .legend {
            background: var(--cream);
            border: 2px solid var(--dark);
            padding: 1rem;
            margin-top: 1.5rem;
            font-size: .85rem;
        }
        .legend h4 {
            font-family: 'Oswald', sans-serif;
            color: var(--primary);
            margin-bottom: .5rem;
        }
        .legend-items {
            display: flex;
            flex-wrap: wrap;
            gap: 1.5rem;
        }

        /* Footer */
        footer {
            background: var(--dark);
            color: var(--white);
            padding: 2rem;
            margin-top: 2rem;
        }
        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            align-items: center;
            gap: 2rem;
        }
        .footer-logo {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        .footer-logo img {
            height: 50px;
            background: white;
            padding: 5px;
            border-radius: 5px;
        }
        .footer-links {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }
        .footer-link {
            color: var(--gold);
            text-decoration: none;
            padding: .5rem 1rem;
            border: 1px solid var(--gold);
            transition: .3s;
            font-family: 'Oswald', sans-serif;
        }
        .footer-link:hover {
            background: var(--gold);
            color: var(--dark);
        }
        .footer-bottom {
            max-width: 1200px;
            margin: 1.5rem auto 0;
            padding-top: 1.5rem;
            border-top: 1px solid rgba(255,255,255,.2);
            text-align: center;
            opacity: .7;
            font-size: .85rem;
        }

        @media (max-width: 768px) {
            .main-tab { padding: .75rem 1rem; font-size: 1rem; }
            .stats-table { font-size: .8rem; }
            .stats-table th, .stats-table td { padding: .4rem; }
            .records-grid { grid-template-columns: 1fr; }
            nav ul { display: none; }
        }

            /* === NAV STANDARD LBMA === */
        nav{position:fixed;top:0;left:0;right:0;z-index:1000;background:var(--white);box-shadow:0 2px 20px rgba(0,0,0,.1)}
        nav .nav-container{max-width:1400px;margin:0 auto;padding:.75rem 2rem;display:flex;justify-content:space-between;align-items:center}
        .logo{display:flex;align-items:center;gap:.75rem;text-decoration:none}
        .logo img{height:55px}
        nav ul{display:flex;list-style:none;gap:.5rem}
        nav li{position:relative}
        nav a{text-decoration:none;color:var(--dark);font-weight:600;text-transform:uppercase;font-size:.85rem;padding:.5rem 1rem;display:block;transition:.3s}
        nav a:hover{color:var(--primary);background:var(--cream)}
        .dropdown-content{display:none;position:absolute;top:100%;left:0;background:var(--white);min-width:220px;box-shadow:0 8px 16px rgba(0,0,0,.1);border:2px solid var(--dark);z-index:1001}
        .dropdown-content a{padding:.75rem 1rem;border-bottom:1px solid var(--cream);font-size:.8rem}
        .dropdown:hover .dropdown-content{display:block}
        .dropdown>a::after{content:' \25BC';font-size:.6rem}
        .hamburger{display:none;font-size:2rem;cursor:pointer;padding:.5rem;color:var(--dark)}
        /* === FOOTER STANDARD LBMA === */
        footer{background:var(--dark);color:var(--white);padding:3rem 2rem}
        .footer-social{display:flex;gap:.5rem;flex-wrap:wrap}
        .social-link{display:inline-flex;align-items:center;gap:.5rem;background:rgba(255,255,255,.1);padding:.6rem 1.2rem;border-radius:5px;color:white;text-decoration:none;transition:.3s}
        .social-link:hover{background:var(--gold);color:var(--dark)}
        .footer-bottom{max-width:1400px;margin:1.5rem auto 0;padding-top:1.5rem;border-top:1px solid rgba(255,255,255,.2);text-align:center;opacity:.7;font-size:.85rem}
        .dropdown.open .dropdown-content{display:block!important}
        @media(max-width:768px){
            .hamburger{display:block}
            nav ul{display:none;position:absolute;top:100%;left:0;right:0;background:var(--white);flex-direction:column;padding:1rem;box-shadow:0 8px 16px rgba(0,0,0,.1)}
            nav ul.open{display:flex}
            .dropdown-content{position:static;box-shadow:none;border:none;border-left:3px solid var(--primary);margin-left:1rem}
            .dropdown:hover .dropdown-content{display:none}
            .dropdown.open .dropdown-content{display:block}
        }
    </style>
</head>
<body>
    <nav>
        <div class="nav-container">
            <a href="index.html" class="logo"><img src="logo-lbma.jpg" alt="LBMA"></a>
            <div class="hamburger" onclick="document.querySelector('nav ul').classList.toggle('open')">&#9776;</div>
            <ul>
                <li><a href="index.html">Accueil</a></li>
                <li><a href="equipes.html">Ã‰quipes</a></li>
                <li><a href="joueurs.html">Joueurs</a></li>
                <li><a href="calendrier.html">Calendrier</a></li>
                <li class="dropdown">
                    <a href="#">Statistiques</a>
                    <div class="dropdown-content">
                        <a href="classement-equipes.html">ğŸ† Classement</a>
                        <a href="stats-frappeurs.html">âš¾ Frappeurs</a>
                        <a href="stats-lanceurs.html">ğŸ¯ Lanceurs</a>
                        <a href="stats-series.html">ğŸ† SÃ©ries Ã‰liminatoires</a>
                    </div>
                </li>
                <li class="dropdown">
                    <a href="#" style="color:var(--primary);font-weight:700">Archives</a>
                    <div class="dropdown-content">
                        <a href="archives-frappeurs.html">ğŸ“Š Stats Frappeurs par AnnÃ©e</a>
                        <a href="frappeurs-carriere.html">â­ Frappeurs - CarriÃ¨re</a>
                        <a href="frappeurs-records.html">ğŸ† Frappeurs - Records</a>
                        <a href="archives-lanceurs.html">ğŸ“Š Stats Lanceurs par AnnÃ©e</a>
                        <a href="lanceurs-carriere.html">â­ Lanceurs - CarriÃ¨re</a>
                        <a href="lanceurs-records.html">ğŸ† Lanceurs - Records</a>
                        <a href="classement-equipes.html">ğŸ“ˆ Classements Historiques</a>
                        <a href="temple-renommee.html">ğŸ›ï¸ Temple de la RenommÃ©e</a>
                        <a href="archives.html">ğŸ“š Archives ComplÃ¨tes</a>
                    </div>
                </li>
                <li><a href="contact.html">Direction</a></li>
                <li><a href="admin.html" style="color:var(--accent)">Admin</a></li>
            </ul>
        </div>
    </nav>

    <div class="page-header">
        <h1>ğŸ“š ARCHIVES HISTORIQUES</h1>
        <p>Records et statistiques Ã  vie â€¢ 1988-2025</p>
    </div>

    <div class="container">
        <!-- Main Tabs -->
        <div class="main-tabs">
            <button class="main-tab frappeurs active" onclick="switchMainTab('frappeurs-vie')">âš¾ Frappeurs Ã  Vie</button>
            <button class="main-tab frappeurs" onclick="switchMainTab('frappeurs-records')">ğŸ† Records Frappeurs</button>
            <button class="main-tab lanceurs" onclick="switchMainTab('lanceurs-vie')">ğŸ¯ Lanceurs Ã  Vie</button>
            <button class="main-tab lanceurs" onclick="switchMainTab('lanceurs-records')">ğŸ† Records Lanceurs</button>
        </div>

        <!-- Frappeurs Ã  Vie -->
        <div id="frappeurs-vie" class="tab-content active">
            <h2 style="font-family:'Bebas Neue',sans-serif;color:var(--accent);font-size:2rem;margin-bottom:1rem">
                âš¾ STATISTIQUES FRAPPEURS Ã€ VIE (1988-2025)
            </h2>
            <div class="category-select">
                <label for="frappeurs-cat">CatÃ©gorie:</label>
                <select id="frappeurs-cat" onchange="loadFrappeursVie()">
                    <option value="">-- SÃ©lectionner une catÃ©gorie --</option>
                    <option value="MOY">MOY - Moyenne au bÃ¢ton (min. 300 AB)</option>
                    <option value="PJ">PJ - Parties jouÃ©es (min. 300)</option>
                    <option value="AB">AB - Apparitions au bÃ¢ton (1000+)</option>
                    <option value="CS">CS - Coups sÃ»rs (300+)</option>
                    <option value="1B">1B - Simples (200+)</option>
                    <option value="2B">2B - Doubles (60+)</option>
                    <option value="3B">3B - Triples (30+)</option>
                    <option value="CC">CC - Circuits (20+)</option>
                    <option value="PC">PC - Points comptÃ©s (300+)</option>
                    <option value="PP">PP - Points produits (300+)</option>
                    <option value="SAC">SAC - Sacrifices (25+)</option>
                    <option value="BB">BB - Buts sur balles (80+)</option>
                    <option value="RB">RB - Retraits au bÃ¢ton (50+)</option>
                </select>
            </div>
            <div id="frappeurs-vie-table"></div>
            <div class="legend">
                <h4>LÃ©gende</h4>
                <div class="legend-items">
                    <span><strong>PJ</strong> = Parties jouÃ©es</span>
                    <span><strong>AB</strong> = Au bÃ¢ton</span>
                    <span><strong>CS</strong> = Coups sÃ»rs</span>
                    <span><strong>1B/2B/3B</strong> = Simples/Doubles/Triples</span>
                    <span><strong>CC</strong> = Circuits</span>
                    <span><strong>PC</strong> = Points comptÃ©s</span>
                    <span><strong>PP</strong> = Points produits</span>
                    <span><strong>BB</strong> = Buts sur balles</span>
                    <span><strong>RB</strong> = Retraits au bÃ¢ton</span>
                </div>
            </div>
        </div>

        <!-- Records Frappeurs -->
        <div id="frappeurs-records" class="tab-content">
            <h2 style="font-family:'Bebas Neue',sans-serif;color:var(--accent);font-size:2rem;margin-bottom:1rem">
                ğŸ† RECORDS FRAPPEURS EN UNE SAISON (depuis 1988)
            </h2>
            <div class="records-grid" id="frappeurs-records-grid"></div>
        </div>

        <!-- Lanceurs Ã  Vie -->
        <div id="lanceurs-vie" class="tab-content">
            <h2 style="font-family:'Bebas Neue',sans-serif;color:var(--grass);font-size:2rem;margin-bottom:1rem">
                ğŸ¯ STATISTIQUES LANCEURS Ã€ VIE (1988-2025)
            </h2>
            <div class="category-select">
                <label for="lanceurs-cat">CatÃ©gorie:</label>
                <select id="lanceurs-cat" onchange="loadLanceursVie()">
                    <option value="">-- SÃ©lectionner une catÃ©gorie --</option>
                    <option value="MOY">MOY - Moyenne (min. 50 PL)</option>
                    <option value="PL">PL - Parties lancÃ©es (50+)</option>
                    <option value="ML">ML - Manches lancÃ©es (280+)</option>
                    <option value="V">V - Victoires (20+)</option>
                    <option value="D">D - DÃ©faites (20+)</option>
                    <option value="N">N - Nulles (5+)</option>
                    <option value="BB">BB - Buts sur balles (100+)</option>
                    <option value="RB">RB - Retraits au bÃ¢ton (80+)</option>
                </select>
            </div>
            <div id="lanceurs-vie-table"></div>
            <div class="legend">
                <h4>LÃ©gende</h4>
                <div class="legend-items">
                    <span><strong>PL</strong> = Parties lancÃ©es</span>
                    <span><strong>ML</strong> = Manches lancÃ©es</span>
                    <span><strong>V</strong> = Victoires</span>
                    <span><strong>D</strong> = DÃ©faites</span>
                    <span><strong>N</strong> = Nulles</span>
                    <span><strong>BB</strong> = Buts sur balles</span>
                    <span><strong>RB</strong> = Retraits au bÃ¢ton</span>
                    <span><strong>MOY</strong> = Moyenne (PC/ML)</span>
                </div>
            </div>
        </div>

        <!-- Records Lanceurs -->
        <div id="lanceurs-records" class="tab-content">
            <h2 style="font-family:'Bebas Neue',sans-serif;color:var(--grass);font-size:2rem;margin-bottom:1rem">
                ğŸ† RECORDS LANCEURS EN UNE SAISON (depuis 1988)
            </h2>
            <div class="records-grid" id="lanceurs-records-grid"></div>
        </div>
    </div>

    <footer>
        <div class="footer-grid" style="max-width:1400px;margin:0 auto;display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:2rem">
            <div>
                <div style="display:flex;align-items:center;gap:1rem;margin-bottom:1rem">
                    <img src="logo-lbma.jpg" alt="LBMA" style="height:50px;background:white;padding:5px;border-radius:5px">
                    <div>
                        <div style="font-family:'Bebas Neue',sans-serif;font-size:1.5rem">LBMA</div>
                        <div style="opacity:.7;font-size:.9rem">Depuis 1976</div>
                    </div>
                </div>
                <div class="footer-social" style="margin-top:1rem">
                    <a href="https://www.facebook.com/groups/2400013274" target="_blank" class="social-link">ğŸ“˜ Facebook</a>
                    <a href="https://www.marqueur.com/baseball/mbr/tools/blg/index.php?nyx=1154" target="_blank" class="social-link">ğŸ“Š Marqueur.com</a>
                </div>
            </div>
            <div>
                <h4 style="font-family:'Oswald',sans-serif;color:var(--gold);margin-bottom:1rem">ğŸ“Š Statistiques 2026</h4>
                <ul style="list-style:none">
                    <li><a href="classement-equipes.html" style="color:white;text-decoration:none;display:block;padding:.25rem 0;opacity:.8">Classement</a></li>
                    <li><a href="stats-frappeurs.html" style="color:white;text-decoration:none;display:block;padding:.25rem 0;opacity:.8">Frappeurs</a></li>
                    <li><a href="stats-lanceurs.html" style="color:white;text-decoration:none;display:block;padding:.25rem 0;opacity:.8">Lanceurs</a></li>
                </ul>
            </div>
            <div>
                <h4 style="font-family:'Oswald',sans-serif;color:var(--gold);margin-bottom:1rem">ğŸ“š Archives</h4>
                <ul style="list-style:none">
                    <li><a href="archives-frappeurs.html" style="color:white;text-decoration:none;display:block;padding:.25rem 0;opacity:.8">Stats Frappeurs par AnnÃ©e</a></li>
                    <li><a href="frappeurs-carriere.html" style="color:white;text-decoration:none;display:block;padding:.25rem 0;opacity:.8">Frappeurs - CarriÃ¨re</a></li>
                    <li><a href="archives-lanceurs.html" style="color:white;text-decoration:none;display:block;padding:.25rem 0;opacity:.8">Stats Lanceurs par AnnÃ©e</a></li>
                    <li><a href="lanceurs-carriere.html" style="color:white;text-decoration:none;display:block;padding:.25rem 0;opacity:.8">Lanceurs - CarriÃ¨re</a></li>
                    <li><a href="classement-equipes.html" style="color:white;text-decoration:none;display:block;padding:.25rem 0;opacity:.8">Classements Historiques</a></li>
                    <li><a href="temple-renommee.html" style="color:white;text-decoration:none;display:block;padding:.25rem 0;opacity:.8">Temple de la RenommÃ©e</a></li>
                </ul>
            </div>
            <div>
                <h4 style="font-family:'Oswald',sans-serif;color:var(--gold);margin-bottom:1rem">âš¾ La Ligue</h4>
                <ul style="list-style:none">
                    <li><a href="equipes.html" style="color:white;text-decoration:none;display:block;padding:.25rem 0;opacity:.8">Ã‰quipes 2026</a></li>
                    <li><a href="calendrier.html" style="color:white;text-decoration:none;display:block;padding:.25rem 0;opacity:.8">Calendrier</a></li>
                    <li><a href="reglements.html" style="color:white;text-decoration:none;display:block;padding:.25rem 0;opacity:.8">RÃ¨glements</a></li>
                    <li><a href="contact.html" style="color:white;text-decoration:none;display:block;padding:.25rem 0;opacity:.8">Direction</a></li>
                    <li><a href="liens-utiles.html" style="color:white;text-decoration:none;display:block;padding:.25rem 0;opacity:.8">Liens Utiles</a></li>
                    <li><a href="revue-presse.html" style="color:white;text-decoration:none;display:block;padding:.25rem 0;opacity:.8">MÃ©dias & Entrevues</a></li>
                    <li><a href="nous-contacter.html" style="color:white;text-decoration:none;display:block;padding:.25rem 0;opacity:.8">Nous Contacter</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">Â© 2026 Ligue de Balle Molle Amicale (LBMA) - Tous droits rÃ©servÃ©s</div>
    </footer>

    <script>

        // Records Frappeurs
        const frappeursRecords = {"titre": "Records Frappeurs - Le plus en une saison (depuis 1988)", "records": [{"categorie": "1B", "type": "recrue", "description": "Plus de simples (recrue)", "record": "Martin Schiller (1992) et George Soares (1999) avec 34"}, {"categorie": "1B", "type": "regulier", "description": "Plus de simples", "record": "AndrÃ© Dandurand (1992) avec 40"}, {"categorie": "2B", "type": "recrue", "description": "Plus de doubles (recrue)", "record": "Patrick Soucy (1997) avec 21"}, {"categorie": "2B", "type": "regulier", "description": "Plus de doubles", "record": "Patrick Blouin (1992) avec 24"}, {"categorie": "3B", "type": "recrue", "description": "Plus de triples (recrue)", "record": "Marc Caron (2016) avec 10"}, {"categorie": "3B", "type": "regulier", "description": "Plus de triples", "record": "Alexandre Bibeau (2012) avec 11"}, {"categorie": "CC", "type": "recrue", "description": "Plus de circuits (recrue)", "record": "Olivier Martin (1997) avec 10"}, {"categorie": "CC", "type": "regulier", "description": "Plus de circuits", "record": "David Asselin (2013) avec 14"}, {"categorie": "AB", "type": "recrue", "description": "Plus d'apparitions au bÃ¢ton (recrue)", "record": "AndrÃ© Paquette (1993) avec 112"}, {"categorie": "AB", "type": "regulier", "description": "Plus d'apparitions au bÃ¢ton", "record": "Pierre Blouin (1988) avec 143"}, {"categorie": "CS", "type": "recrue", "description": "Plus de coups sÃ»rs (recrue)", "record": "AndrÃ© Paquette (1993) avec 64"}, {"categorie": "CS", "type": "regulier", "description": "Plus de coups sÃ»rs", "record": "Pierre Blouin (1988) avec 66"}, {"categorie": "PP", "type": "recrue", "description": "Plus de points produits (recrue)", "record": "AndrÃ© Paquette (1993), Olivier Martin (1997) et George Soares (1999) avec 43"}, {"categorie": "PP", "type": "regulier", "description": "Plus de points produits", "record": "Yves Chartrand (1992) avec 52"}, {"categorie": "PC", "type": "recrue", "description": "Plus de points comptÃ©s (recrue)", "record": "Patrick Soucy (1997) avec 53"}, {"categorie": "PC", "type": "regulier", "description": "Plus de points comptÃ©s", "record": "Patrick Blouin (2007) avec 58"}, {"categorie": "MOY", "type": "recrue", "description": "Meilleure moyenne (recrue)", "record": "AndrÃ© Paquette (1993) avec 0,571"}, {"categorie": "MOY", "type": "regulier", "description": "Meilleure moyenne", "record": "David Asselin (2013) avec 0,740"}, {"categorie": "RB", "type": "recrue", "description": "Plus de retraits au bÃ¢ton (recrue)", "record": "Patrick Diblasio (1997) avec 23"}, {"categorie": "RB", "type": "regulier", "description": "Plus de retraits au bÃ¢ton", "record": "Patrick Diblasio (1997) avec 23"}, {"categorie": "BB", "type": "recrue", "description": "Plus de buts sur balles (recrue)", "record": "Anthony Gauthier (2006) avec 20"}, {"categorie": "BB", "type": "regulier", "description": "Plus de buts sur balles", "record": "Patrick Blouin (1996) avec 30"}, {"categorie": "SAC", "type": "recrue", "description": "Plus de sacrifices (recrue)", "record": "Jacques Guilbault (1995) et Dominic Plante (2009) avec 6"}, {"categorie": "SAC", "type": "regulier", "description": "Plus de sacrifices", "record": "Marcel Morin (2000) avec 16"}]};

        // Records Lanceurs
        const lanceursRecords = {"titre": "Records Lanceurs - Le plus en une saison (depuis 1988)", "records": [{"categorie": "PL", "description": "Plus de parties lancÃ©es", "record": "Michel Brodeur (2000) avec 27"}, {"categorie": "ML", "description": "Plus de manches lancÃ©es", "record": "FranÃ§ois Roy (1993) avec 162,6"}, {"categorie": "V", "description": "Plus de victoires", "record": "StÃ©phane Beaudoin (2023) avec 20"}, {"categorie": "D", "description": "Plus de dÃ©faites", "record": "Richard Poulin (2005) avec 20"}, {"categorie": "MOY", "description": "Meilleure moyenne (min. 100 manches)", "record": "AndrÃ© Dandurand (1995) et Robert Roy (1992) avec 0,75"}, {"categorie": "RB", "description": "Plus de retraits au bÃ¢ton", "record": "Denis Barrette (2007) avec 124"}, {"categorie": "BB_MIN", "description": "Moins de buts sur balles (min. 100 manches)", "record": "Jean-Claude MÃ©nard (1988 et 1989) avec 12"}, {"categorie": "BB_MAX", "description": "Plus de buts sur balles", "record": "Denis Barrette (2007) avec 175"}]};

        // â”€â”€ Supabase â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        const SB_URL = 'https://xgyskiatppgaeaamjhxr.supabase.co';
        const SB_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhneXNraWF0cHBnYWVhYW1qaHhyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA0OTgxNTQsImV4cCI6MjA4NjA3NDE1NH0.67KCcUWlJij-scDoCUvZpkiCle5-mHVmy-inRk96Tac';

        async function sbFetch(path) {
            const res = await fetch(SB_URL + '/rest/v1/' + path, {
                headers: { 'apikey': SB_KEY, 'Authorization': 'Bearer ' + SB_KEY, 'Range': '0-9999' }
            });
            return res.ok ? res.json() : [];
        }

        // Cache pour Ã©viter de recharger Ã  chaque changement de catÃ©gorie
        let frappeursCache = null;
        let lanceursCache = null;

        function switchMainTab(tabId) {
            document.querySelectorAll('.main-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
            event.target.classList.add('active');
        }

        // â”€â”€ FRAPPEURS Ã€ VIE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        async function loadFrappeursVie() {
            const cat = document.getElementById('frappeurs-cat').value;
            const container = document.getElementById('frappeurs-vie-table');

            if (!cat) {
                container.innerHTML = '<p style="text-align:center;padding:2rem;color:#666">SÃ©lectionnez une catÃ©gorie pour voir le classement</p>';
                return;
            }

            container.innerHTML = '<p style="text-align:center;padding:2rem;color:#666">â³ Chargement...</p>';

            // Charger depuis Supabase si pas en cache
            if (!frappeursCache) {
                try {
                    let all = [], offset = 0;
                    while (true) {
                        const res = await fetch(SB_URL + '/rest/v1/frappeurs_saison?select=nom,pj,ab,cs,simples,doubles,triples,cc,pc,pp,sac,bb,rb,moy&order=nom.asc', {
                            headers: { 'apikey': SB_KEY, 'Authorization': 'Bearer ' + SB_KEY, 'Range': offset + '-' + (offset + 999) }
                        });
                        const batch = await res.json();
                        if (!Array.isArray(batch) || batch.length === 0) break;
                        all = all.concat(batch);
                        if (batch.length < 1000) break;
                        offset += 1000;
                    }

                    // AgrÃ©ger par nom
                    const map = {};
                    all.forEach(r => {
                        const nom = r.nom || '';
                        if (!map[nom]) map[nom] = { nom, pj:0, ab:0, cs:0, b1:0, b2:0, b3:0, cc:0, pc:0, pp:0, sac:0, bb:0, rb:0, ab_moy:0, cs_moy:0 };
                        const m = map[nom];
                        m.pj  += r.pj  || 0;
                        m.ab  += r.ab  || 0;
                        m.cs  += r.cs  || 0;
                        m.b1  += r.simples || r['1b'] || 0;
                        m.b2  += r.doubles || r['2b'] || 0;
                        m.b3  += r.triples || r['3b'] || 0;
                        m.cc  += r.cc  || 0;
                        m.pc  += r.pc  || 0;
                        m.pp  += r.pp  || 0;
                        m.sac += r.sac || 0;
                        m.bb  += r.bb  || 0;
                        m.rb  += r.rb  || 0;
                        m.ab_moy += r.ab || 0;  // pour calcul MOY carriÃ¨re
                        m.cs_moy += r.cs || 0;
                    });

                    // Calculer MOY carriÃ¨re
                    Object.values(map).forEach(m => {
                        m.moy = m.ab_moy > 0 ? m.cs_moy / m.ab_moy : 0;
                    });

                    frappeursCache = Object.values(map);
                } catch(e) {
                    container.innerHTML = '<p style="text-align:center;padding:2rem;color:red">Erreur de chargement</p>';
                    return;
                }
            }

            const catField = { 'PJ':'pj', 'AB':'ab', 'CS':'cs', '1B':'b1', '2B':'b2', '3B':'b3',
                               'CC':'cc', 'PC':'pc', 'PP':'pp', 'SAC':'sac', 'BB':'bb', 'RB':'rb', 'MOY':'moy' };
            const catNames = { 'PJ':'Parties JouÃ©es', 'AB':'Apparitions au BÃ¢ton', 'CS':'Coups SÃ»rs',
                               '1B':'Simples', '2B':'Doubles', '3B':'Triples', 'CC':'Circuits',
                               'PC':'Points ComptÃ©s', 'PP':'Points Produits', 'SAC':'Sacrifices',
                               'BB':'Buts sur Balles', 'RB':'Retraits au BÃ¢ton', 'MOY':'Moyenne' };
            const minAB = { 'MOY': 300 };

            const field = catField[cat];
            let data = frappeursCache.filter(p => {
                if (minAB[cat] && p.ab < minAB[cat]) return false;
                return (p[field] || 0) > 0;
            });
            data.sort((a, b) => (b[field] || 0) - (a[field] || 0));
            data = data.slice(0, 100);

            let html = `<table class="stats-table frappeurs">
                <thead><tr>
                    <th style="width:60px">Rang</th>
                    <th style="text-align:left">Joueur</th>
                    <th>${catNames[cat] || cat}</th>
                </tr></thead><tbody>`;

            data.forEach((p, i) => {
                const val = cat === 'MOY' ? p[field].toFixed(3) : p[field];
                html += `<tr>
                    <td class="rank">${i + 1}</td>
                    <td class="player-name">${p.nom}</td>
                    <td class="value">${val}</td>
                </tr>`;
            });

            html += '</tbody></table>';
            container.innerHTML = html;
        }

        // â”€â”€ LANCEURS Ã€ VIE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        async function loadLanceursVie() {
            const cat = document.getElementById('lanceurs-cat').value;
            const container = document.getElementById('lanceurs-vie-table');

            if (!cat) {
                container.innerHTML = '<p style="text-align:center;padding:2rem;color:#666">SÃ©lectionnez une catÃ©gorie pour voir le classement</p>';
                return;
            }

            container.innerHTML = '<p style="text-align:center;padding:2rem;color:#666">â³ Chargement...</p>';

            if (!lanceursCache) {
                try {
                    let all = [], offset = 0;
                    while (true) {
                        const res = await fetch(SB_URL + '/rest/v1/lanceurs_saison?select=nom,pl,out,v,d,n,bb,rb,pc,moy&order=nom.asc', {
                            headers: { 'apikey': SB_KEY, 'Authorization': 'Bearer ' + SB_KEY, 'Range': offset + '-' + (offset + 999) }
                        });
                        const batch = await res.json();
                        if (!Array.isArray(batch) || batch.length === 0) break;
                        all = all.concat(batch);
                        if (batch.length < 1000) break;
                        offset += 1000;
                    }

                    const map = {};
                    all.forEach(r => {
                        const nom = r.nom || '';
                        if (!map[nom]) map[nom] = { nom, pl:0, out:0, v:0, d:0, n:0, bb:0, rb:0, pc:0 };
                        const m = map[nom];
                        m.pl  += r.pl  || 0;
                        m.out += r.out || 0;
                        m.v   += r.v   || 0;
                        m.d   += r.d   || 0;
                        m.n   += r.n   || 0;
                        m.bb  += r.bb  || 0;
                        m.rb  += r.rb  || 0;
                        m.pc  += r.pc  || 0;
                    });

                    // Calculer ML (manches lancÃ©es) et MOY carriÃ¨re
                    Object.values(map).forEach(m => {
                        m.ml  = Math.round(m.out / 3 * 10) / 10;
                        m.moy = m.out > 0 ? Math.round(m.pc / (m.out / 3) * 100) / 100 : 0;
                    });

                    lanceursCache = Object.values(map);
                } catch(e) {
                    container.innerHTML = '<p style="text-align:center;padding:2rem;color:red">Erreur de chargement</p>';
                    return;
                }
            }

            const catField = { 'PL':'pl', 'ML':'ml', 'V':'v', 'D':'d', 'N':'n', 'BB':'bb', 'RB':'rb', 'MOY':'moy' };
            const catNames = { 'PL':'Parties LancÃ©es', 'ML':'Manches LancÃ©es', 'V':'Victoires',
                               'D':'DÃ©faites', 'N':'Nulles', 'BB':'Buts sur Balles',
                               'RB':'Retraits au BÃ¢ton', 'MOY':'Moyenne' };
            const minOut = { 'MOY': 300 }; // min ~100 manches

            const field = catField[cat];
            const sortAsc = (cat === 'MOY' || cat === 'D');
            let data = lanceursCache.filter(p => {
                if (minOut[cat] && p.out < minOut[cat]) return false;
                return (p[field] || 0) > 0;
            });
            data.sort((a, b) => sortAsc ? (a[field]||0) - (b[field]||0) : (b[field]||0) - (a[field]||0));
            data = data.slice(0, 100);

            let html = `<table class="stats-table lanceurs">
                <thead><tr>
                    <th style="width:60px">Rang</th>
                    <th style="text-align:left">Joueur</th>
                    <th>${catNames[cat] || cat}</th>
                </tr></thead><tbody>`;

            data.forEach((p, i) => {
                let val = p[field];
                if (cat === 'MOY') val = val.toFixed(2);
                else if (cat === 'ML') val = val.toFixed(1);
                html += `<tr>
                    <td class="rank">${i + 1}</td>
                    <td class="player-name">${p.nom}</td>
                    <td class="value">${val}</td>
                </tr>`;
            });

            html += '</tbody></table>';
            container.innerHTML = html;
        }

        function loadFrappeursRecords() {
            const container = document.getElementById('frappeurs-records-grid');
            
            // Group by category
            const categories = {};
            frappeursRecords.records.forEach(r => {
                if (!categories[r.categorie]) categories[r.categorie] = [];
                categories[r.categorie].push(r);
            });

            const catNames = {
                '1B': 'Simples (1B)', '2B': 'Doubles (2B)', '3B': 'Triples (3B)', 
                'CC': 'Circuits (CC)', 'AB': 'Apparitions au bÃ¢ton (AB)', 
                'CS': 'Coups sÃ»rs (CS)', 'PP': 'Points produits (PP)', 
                'PC': 'Points comptÃ©s (PC)', 'MOY': 'Moyenne (MOY)',
                'RB': 'Retraits au bÃ¢ton (RB)', 'BB': 'Buts sur balles (BB)',
                'SAC': 'Sacrifices (SAC)'
            };

            let html = '';
            for (const [cat, records] of Object.entries(categories)) {
                html += `
                    <div class="record-card">
                        <div class="record-card-header frappeurs">${catNames[cat] || cat}</div>
                        <div class="record-card-body">
                `;
                records.forEach(r => {
                    const typeLabel = r.type === 'recrue' ? 'ğŸŒŸ Recrue' : 'ğŸ‘‘ RÃ©gulier';
                    html += `
                        <div class="record-item">
                            <div class="record-type">${typeLabel}</div>
                            <div class="record-value">${r.record}</div>
                        </div>
                    `;
                });
                html += '</div></div>';
            }
            container.innerHTML = html;
        }

        function loadLanceursRecords() {
            const container = document.getElementById('lanceurs-records-grid');
            
            const catNames = {
                'PL': 'Parties lancÃ©es (PL)', 'ML': 'Manches lancÃ©es (ML)',
                'V': 'Victoires (V)', 'D': 'DÃ©faites (D)',
                'MOY': 'Meilleure moyenne (MOY)', 'RB': 'Retraits au bÃ¢ton (RB)',
                'BB_MIN': 'Moins de BB (contrÃ´le)', 'BB_MAX': 'Plus de BB'
            };

            let html = '';
            lanceursRecords.records.forEach(r => {
                html += `
                    <div class="record-card">
                        <div class="record-card-header lanceurs">${r.description}</div>
                        <div class="record-card-body">
                            <div class="record-item">
                                <div class="record-value">${r.record}</div>
                            </div>
                        </div>
                    </div>
                `;
            });
            container.innerHTML = html;
        }

        // Initialize
        window.addEventListener('load', () => {
            loadFrappeursRecords();
            loadLanceursRecords();
        });
    </script>

    <script>
    /* === MOBILE NAV STANDARD LBMA === */
    (function() {
        var isTouch = 'ontouchstart' in window || navigator.maxTouchPoints > 0;

        document.querySelectorAll('nav .dropdown > a').forEach(function(a) {
            a.addEventListener('click', function(e) {
                if (isTouch || window.innerWidth <= 768) {
                    e.preventDefault();
                    var parent = this.parentElement;
                    document.querySelectorAll('nav .dropdown').forEach(function(d) {
                        if (d !== parent) d.classList.remove('open');
                    });
                    parent.classList.toggle('open');
                }
            });
        });

        document.addEventListener('click', function(e) {
            if (!e.target.closest('nav')) {
                document.querySelector('nav ul')?.classList.remove('open');
                document.querySelectorAll('nav .dropdown').forEach(function(d) {
                    d.classList.remove('open');
                });
            }
        });
    })();
    </script>
<script src="lbma-analytics.js"></script>
</body>
</html>
